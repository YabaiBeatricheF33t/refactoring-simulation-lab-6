## Рефакторинг order_processing.py

### Найденные проблемы качества кода (code smells):
1. **Длинный метод** - функция `process_checkout()` содержала 60+ строк и делала слишком много
2. **Магические числа** - числовые константы (0.21, 200, 0.10 и др.) были разбросаны по коду
3. **Нарушение принципа единой ответственности (SRP)** - одна функция занималась парсингом, валидацией, расчетами и формированием ответа
4. **Сложная логика скидок** - вложенные if-elif усложняли понимание
5. **Повторяющаяся логика** - похожие проверки для разных полей

### Примененные рефакторинги:
1. **Вынос констант** - все магические числа заменены на именованные константы
2. **Извлечение метода** - большая функция разбита на 7 маленьких функций, каждая с одной ответственностью:
   - `parse_request()` - извлечение данных
   - `validate_request()` - проверка входных данных
   - `calculate_subtotal()` - расчет суммы
   - `calculate_discount()` - расчет скидки
   - `calculate_tax()` - расчет налога
   - `generate_order_id()` - генерация ID
   - `process_checkout()` - координация процесса
3. **Упрощение условий** - сложные проверки вынесены в отдельные функции
4. **Добавление комментариев** - код теперь читается как сценарий с пронумерованными шагами

### Что стало проще читать и менять:
1. **Модульность** - каждая функция может тестироваться отдельно
2. **Читаемость** - `process_checkout()` теперь показывает последовательность шагов
3. **Поддерживаемость** - изменение логики скидок происходит только в `calculate_discount()`
4. **Тестируемость** - можно тестировать отдельные компоненты (например, только валидацию)
5. **Расширяемость** - легко добавить новые типы скидок или налогов

### Проверка:
- Все оригинальные тесты продолжают проходить
- Поведение системы не изменилось
- Код стал более чистым и понятным
